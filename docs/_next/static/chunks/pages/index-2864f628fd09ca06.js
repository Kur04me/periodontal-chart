(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(4534)}])},4534:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return D}});var c=a(5893),s=a(7294);let n={maxilla:[39,42,44,40,40,40,40,40,40,40,40,40,40,44,42,39],mandibular:[42,47,46,38,38,38,38,38,38,38,38,38,38,46,47,42]},l={maxilla:["18","17","16","15","14","13","12","11","21","22","23","24","25","26","27","28"],mandibular:["48","47","46","45","44","43","42","41","31","32","33","34","35","36","37","38"]},o={1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,0:0,"-":10,"^":11,"\\":12},i={maxilla:{buccal:["POD","Rec","MM","Mob"],palatal:["POD","Rec"],occlusal:null},mandibular:{lingual:["POD","Rec","MM"],buccal:["POD","Rec","MM","Mob"],occlusal:null}};var r=a(4005),u=a(3023),d=a(5358),p=a(6108),m=a(6880);let h=n.maxilla.reduce((e,t)=>e+t,0);var x=e=>{let{teethStatus:t,jawType:a,surface:o}=e,[i,x]=(0,s.useState)([]),v={left:"40px",..."mandibular"===a?{top:48}:{}};return(0,s.useEffect)(()=>{let e=[],c=0;if(l[a].forEach(s=>{let i=n[a],r=i[l[a].indexOf(s)];if(t[s].exists){let[a,n,l]=[c+1*r/4,c+2*r/4,c+3*r/4].map(e=>Math.round(e)),i=t[s].values[o].recession,u=t[s].values[o].mm,d=t[s].values[o].pod.d.value,p=t[s].values[o].pod.c.value,m=t[s].values[o].pod.m.value,h="2"===s[0]||"3"===s[0];e.push(...[{xpx:a,pod:[i,i+(h?m:d)],mm:u},{xpx:n,pod:[i,i+p],mm:u},{xpx:l,pod:[i,i+(h?d:m)],mm:u}])}else e.push(...[{xpx:c,pod:[0,0],mm:0},{xpx:c+r,pod:[0,0],mm:0}]);c+=r}),0!==e.length){let t=e[0],a=e[e.length-1];x([{xpx:0,pod:t.pod,mm:t.mm},...e,{xpx:h,pod:a.pod,mm:a.mm}])}},[t]),(0,c.jsxs)(r.c,{width:h,height:72,data:i,className:"chart",style:v,margin:{top:0,left:0,right:0,bottom:0},children:[(0,c.jsx)(u.K,{domain:[0,650],hide:!0,type:"number",dataKey:"xpx"}),(0,c.jsx)(d.B,{domain:[0,18],hide:!0,type:"number",dataKey:"pod",reversed:"mandibular"===a}),(0,c.jsx)(p.u,{type:"monotone",dataKey:"pod",stroke:"crimson",fill:"red"}),"maxilla"===a&&"palatal"===o?null:(0,c.jsx)(m.x,{type:"monotone",dataKey:"mm",stroke:"blue",dot:!1})]})},v=e=>{let{toothNumber:t,jawType:a,surface:s,teethStatus:o,setTeethStatus:i}=e;return(0,c.jsxs)("div",{className:"svg-container",style:{gridColumn:"".concat(2+l[a].indexOf(t)," / ").concat(3+l[a].indexOf(t))},children:["occlusal"!==s?(0,c.jsx)("svg",{className:"tooth-background-svg",width:n[a][l[a].indexOf(t)],height:"120",viewBox:"0 0 ".concat(n[a][l[a].indexOf(t)]," 120"),id:"".concat(a,"-").concat(s,"-").concat(t,"-svg-background"),children:[...Array(18)].map((e,s)=>{let o=(s+1)*4+("mandibular"===a?44:0);return(0,c.jsx)("line",{x1:"0",y1:o,x2:n[a][l[a].indexOf(t)],y2:o,stroke:"black",strokeWidth:"0.5"},o)})}):"",(0,c.jsx)("img",{src:"/assets/".concat(a,"_").concat(s[0],"_").concat(t[1],".svg"),alt:"tooth SVG",className:"".concat("2"===t[0]||"3"===t[0]?"flip_horizontal":""," ").concat(a,"-svg"),style:{filter:o[t].exists?"none":"brightness(0)"},onClick:()=>{let e=o[t].exists;i({...o,[t]:{...o[t],exists:!e}})}})]})};let b={0:"pod-label",1:"recession-label",2:"mm-label",3:"mobility-label"},f=["d","c","m"];var j=e=>{let{which:t,teethStatus:a,setTeethStatus:o,mode:r}=e,u=e=>"2"===e[0]||"3"===e[0],[d,p]=t.split("-"),m=i[d][p],h=e=>{let[t,c,s,n]=e.currentTarget.id.split("-"),l=a[t].values[c].pod[n],i={...l};switch(r){case"bop":i={...i,bop:!l.bop,pus:!1};break;case"pus":i={...i,pus:!l.pus,bop:!1};break;case"default":return}let u={...a,[t]:{...a[t],values:{...a[t].values,[c]:{...a[t].values[c],pod:{...a[t].values[c].pod,[n]:i}}}}};o(u)},j=(e,t,c)=>{let s=u(e)?[...f].reverse():f,n=a[e].values[t].pod[s[c]];return n.bop?{border:"2px solid red"}:n.pus?{border:"2px solid #FFF100"}:{border:"none"}};return(0,c.jsxs)("div",{id:"".concat(t),className:"teeth-grid-wrapper",style:{gridTemplateColumns:"occlusal"===p?"".concat(40,"px repeat(16, auto)"):[40,...n[d]].map(e=>"".concat(e,"px")).join(" "),width:"occlusal"!==p?[40,...n[d]].reduce((e,t)=>e+t,0):""},children:["occlusal"!==p?(0,c.jsx)(x,{teethStatus:a,jawType:d,surface:p}):null,m?(0,c.jsx)(c.Fragment,{children:m.map((e,t)=>e&&(0,c.jsx)("p",{className:b[t],children:e},t))}):null,l[d].map(e=>(0,c.jsxs)(s.Fragment,{children:[(0,c.jsx)(v,{toothNumber:e,jawType:d,surface:p,teethStatus:a,setTeethStatus:o}),m&&void 0!==m[0]?(0,c.jsx)("div",{id:"".concat(e,"-").concat(p,"-pod-wrapper"),className:"pod-wrapper ".concat(a[e].exists?"":"invisible"),style:{gridColumn:"".concat(2+l[d].indexOf(e)," / ").concat(3+l[d].indexOf(e))},children:[void 0,void 0,void 0].map((t,a)=>(0,c.jsx)("div",{className:"input-container",children:(0,c.jsx)("input",{type:"number",className:"pod",style:j(e,p,a),id:"".concat(e,"-").concat(p,"-pod-").concat(u(e)?[...f].reverse()[a]:[...f][a]),onClick:e=>{h(e)}})},"".concat(e,"_").concat(p,"_pod_").concat(u(e)?[...f].reverse()[a]:[...f][a])))}):"",m&&void 0!==m[1]?(0,c.jsx)("div",{className:"input-container recession ".concat(a[e].exists?"":"invisible"),style:{gridColumn:"".concat(2+l[d].indexOf(e)," / ").concat(3+l[d].indexOf(e))},children:(0,c.jsx)("input",{type:"number",id:"".concat(e,"-").concat(p,"-recession")})}):"",m&&void 0!==m[2]?(0,c.jsx)("div",{className:"input-container mm ".concat(a[e].exists?"":"invisible"),style:{gridColumn:"".concat(2+l[d].indexOf(e)," / ").concat(3+l[d].indexOf(e))},children:(0,c.jsx)("input",{type:"number",id:"".concat(e,"-").concat(p,"-mm")})}):"",m&&void 0!==m[3]?(0,c.jsx)("div",{className:"input-container mobility ".concat(a[e].exists?"":"invisible"),style:{gridColumn:"".concat(2+l[d].indexOf(e)," / ").concat(3+l[d].indexOf(e))},children:(0,c.jsx)("input",{type:"number",id:"".concat(e,"-").concat(p,"-mobility")})}):""]},"".concat(t,"_").concat(e)))]})};let g=[],y=["d","c","m"],E=["18","17","16","15","14","13","12","11","21","22","23","24","25","26","27","28"],k=["48","47","46","45","44","43","42","41","31","32","33","34","35","36","37","38"];E.forEach((e,t)=>{t<8?y.forEach(t=>{g.push("".concat(e,"-buccal-pod-").concat(t))}):[...y].reverse().forEach(t=>{g.push("".concat(e,"-buccal-pod-").concat(t))})}),[...E].reverse().forEach((e,t)=>{t<8?y.forEach(t=>{g.push("".concat(e,"-palatal-pod-").concat(t))}):[...y].reverse().forEach(t=>{g.push("".concat(e,"-palatal-pod-").concat(t))})}),[...k].reverse().forEach((e,t)=>{t<8?y.forEach(t=>{g.push("".concat(e,"-buccal-pod-").concat(t))}):[...y].reverse().forEach(t=>{g.push("".concat(e,"-buccal-pod-").concat(t))})}),k.forEach((e,t)=>{t<8?y.forEach(t=>{g.push("".concat(e,"-lingual-pod-").concat(t))}):[...y].reverse().forEach(t=>{g.push("".concat(e,"-lingual-pod-").concat(t))})}),E.forEach(e=>{g.push("".concat(e,"-buccal-mobility"))}),[...k].reverse().forEach(e=>{g.push("".concat(e,"-buccal-mobility"))}),E.forEach(e=>{g.push("".concat(e,"-buccal-recession"))}),[...E].reverse().forEach(e=>{g.push("".concat(e,"-palatal-recession"))}),[...k].reverse().forEach(e=>{g.push("".concat(e,"-buccal-recession"))}),k.forEach(e=>{g.push("".concat(e,"-lingual-recession"))}),E.forEach(e=>{g.push("".concat(e,"-buccal-mm"))}),[...k].reverse().forEach(e=>{g.push("".concat(e,"-buccal-mm"))}),k.forEach(e=>{g.push("".concat(e,"-lingual-mm"))});var w=e=>{let{handleChangeMode:t,mode:a}=e,n=["通常","BOP","排膿"],l=["default","bop","pus"];return(0,c.jsx)("div",{className:"radio-button-container",children:n.map((e,o)=>(0,c.jsxs)(s.Fragment,{children:[(0,c.jsx)("input",{type:"radio",id:e,name:"mode",value:l[n.indexOf(e)],checked:a===l[n.indexOf(e)],onChange:e=>{t(e.target.value)}}),(0,c.jsx)("label",{htmlFor:e,children:e})]},e))})};let O=()=>{let e={},t=["1","2","3","4","5","6","7","8"];for(let a=1;a<5;a++)t.forEach(t=>{e[String(a)+t]={exists:!0,values:{buccal:{pod:{m:{value:0,bop:!1,pus:!1},c:{value:0,bop:!1,pus:!1},d:{value:0,bop:!1,pus:!1}},recession:0,mm:0,mobility:0},palatal:{pod:{m:{value:0,bop:!1,pus:!1},c:{value:0,bop:!1,pus:!1},d:{value:0,bop:!1,pus:!1}},recession:0},lingual:{pod:{m:{value:0,bop:!1,pus:!1},c:{value:0,bop:!1,pus:!1},d:{value:0,bop:!1,pus:!1}},recession:0,mm:0}}}});return e};var S=()=>{let[e,t]=(0,s.useState)(O()),a=(e,a,c,s)=>{t(t=>{let n=t[e],l=n.values[a],o=l.pod,i={...o,[c]:{...o[c],value:s}};return console.log("POD value has updated.",i),{...t,[e]:{...n,values:{...n.values,[a]:{...l,pod:i}}}}})},n=(e,a,c,s)=>{t(t=>{let n=t[e],l=n.values[c];return console.log("Value has updated.",a,s),{...t,[e]:{...n,values:{...n.values,[c]:{...l,[a]:s}}}}})};(0,s.useEffect)(()=>{let t=Array.from(document.querySelectorAll("input")).filter(e=>null!==e.offsetParent),c=Array(336);t.forEach(e=>{c[g.indexOf(e.id)]=e}),c=c.filter(e=>e instanceof HTMLInputElement);let s=t=>{let s=(e,t)=>{let a=document.activeElement,c=e.indexOf(a),s=t?(c-1+e.length)%e.length:(c+1)%e.length;e[s].focus()};switch(t.key){case"e":t.preventDefault();break;case"Tab":t.preventDefault(),s(c,t.shiftKey);break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"0":case"-":case"^":case"\\":var l;t.preventDefault();let i=null===(l=document.activeElement)||void 0===l?void 0:l.id,[r,u,d,p]=i.split("-");if(i.includes("pod")){let e=o[t.key];document.activeElement.value=e.toString(),"2"===r[0]||r[0],a(r,u,p,e),s(c,t.shiftKey);break}if(i.includes("recession")){let e=o[t.key];document.activeElement.value=e.toString(),n(r,"recession",u,e),s(c,t.shiftKey)}else if(i.includes("mm")){let a=o[t.key];document.activeElement.value=a.toString(),n(r,"mm",u,a),console.dir(e),s(c,t.shiftKey);break}else if(i.includes("mobility")&&["0","1","2","3"].includes(t.key)){let e=o[t.key];document.activeElement.value=e.toString(),n(r,"mobility",u,e),s(c,t.shiftKey);break}}};return document.addEventListener("keydown",s),()=>{document.removeEventListener("keydown",s)}},[e]);let[l,i]=(0,s.useState)("default");return(0,c.jsxs)("div",{id:"main-content",children:[(0,c.jsx)(w,{handleChangeMode:e=>{i(e)},mode:l}),(0,c.jsxs)("div",{id:"maxilla",children:[(0,c.jsx)(j,{which:"maxilla-buccal",teethStatus:e,setTeethStatus:t,mode:l}),(0,c.jsx)(j,{which:"maxilla-palatal",teethStatus:e,setTeethStatus:t,mode:l}),(0,c.jsx)(j,{which:"maxilla-occlusal",teethStatus:e,setTeethStatus:t,mode:l})]}),(0,c.jsxs)("div",{id:"mandibular",children:[(0,c.jsx)(j,{which:"mandibular-occlusal",teethStatus:e,setTeethStatus:t,mode:l}),(0,c.jsx)(j,{which:"mandibular-lingual",teethStatus:e,setTeethStatus:t,mode:l}),(0,c.jsx)(j,{which:"mandibular-buccal",teethStatus:e,setTeethStatus:t,mode:l})]})]})},N=()=>(0,c.jsx)("div",{id:"footer",children:"\xa9 2023 hoge dental clinic"}),_=()=>(0,c.jsx)("div",{id:"header",children:(0,c.jsx)("h1",{children:"Periodontal Chart"})}),C=a(5675),T=a.n(C),M=a(3285),F=a.n(M),K=()=>(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(T(),{src:"/assets/printer_icon.svg",alt:"print-button-icon",height:32,width:32,className:F()["menu-icon"],onClick:()=>{window.print()}}),(0,c.jsx)("label",{children:"印刷"})]}),P=()=>{let[e,t]=(0,s.useState)(!1),a=e=>{t(e.target.checked)};return(0,c.jsx)("div",{id:"menu",className:e?"show":"",children:(0,c.jsxs)("div",{className:"icon-container",children:[(0,c.jsx)("div",{id:"menu-content",children:(0,c.jsx)(K,{})}),(0,c.jsxs)("div",{id:"menu-button",children:[(0,c.jsx)("input",{type:"checkbox",id:"menu-toggle",onChange:e=>{a(e)}}),(0,c.jsx)("label",{htmlFor:"menu-toggle",className:e?"flip-vertical":"",children:(0,c.jsx)("svg",{id:"menu-sign",width:"50",height:"20",viewBox:"0 0 50 20",children:(0,c.jsx)("polyline",{points:"17,6 25,11 33,6",strokeWidth:"2"})})})]})]})})},D=()=>(0,c.jsxs)("div",{id:"App",children:[(0,c.jsx)(P,{}),(0,c.jsxs)("div",{id:"main-container",children:[(0,c.jsx)(_,{}),(0,c.jsx)(S,{}),(0,c.jsx)(N,{})]})]})},3285:function(e){e.exports={"menu-icon":"menu_menu-icon__jZoFZ"}}},function(e){e.O(0,[249,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);